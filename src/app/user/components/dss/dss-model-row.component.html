<td class="text-center">
    <span *ngIf="model.crops.length === 1">{{ model.crops[0] | eppoCode }}</span>
    <select  *ngIf="model.crops.length > 1" class="form-control" id="crop" [disabled]="selectedDss" (change)="cropSelectChanged($event)">
        <option value="">{{ 'DSS_model_selection.Select_crop' | translate }}</option>
        <option *ngFor="let crop of model.crops; index as j;" value="{{ crop }}">{{ crop | eppoCode }}</option>
    </select>
</td>
<td class="text-center">
    <span *ngIf="model.pests.length === 1">{{ model.pests[0] | eppoCode }}</span>
    <select *ngIf="model.pests.length > 1" class="form-control" id="pest" [disabled]="selectedDss" (change)="pestSelectChanged($event)">
        <option value="">{{ 'DSS_model_selection.Select_pest' | translate }}</option>
        <option *ngFor="let pest of model.pests; index as x;" value="{{ pest }}">{{ pest | eppoCode }}</option>
    </select>
</td>
<td class="text-center">
    {{ model.name }} 
    <a class="details" (click)="openModal(dssModelDetails,'modal-lg')">
        <i class="fas fa-info-circle light-blue-icon ml-1 icon-toggle"></i>
    </a>
</td>
<td class="text-center">
    <button class="btn btn-info" (click)="onSelect()" [ngClass]="{'data-notSelected': selectedDss === true}" [disabled]="selectedPest === '' || selectedCrop === ''">{{ 'Common_labels.Select' | translate }}</button>
    <button class="btn btn-info" (click)="onDeselect()" [ngClass]="{'data-selected': selectedDss === true, 'data-notSelected': selectedDss === false}">{{ 'Common_labels.Deselect' | translate }}</button>
</td>

<ng-template #dssModelDetails>
    <div class="modal-header">
      <h4 class="modal-title pull-left">{{ dssSelection.name }} - {{ model.name }}
      </h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body scrollable">
        <div class="form-group row">
            <label class="col-sm-3 col-form-label"><b>{{ 'DSS_model_selection.DSS_id' | translate }}</b></label>
            <div class="col-sm-9">
                <p>{{ dssSelection.id }}</p>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-sm-3 col-form-label"><b>{{ 'DSS_model_selection.Model_id' | translate }}</b></label>
            <div class="col-sm-9">
                <p>{{ model.id }}</p>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-sm-3 col-form-label"><b>{{ 'DSS_model_selection.Description' | translate }}</b></label>
            <div class="col-sm-9">
                <p>{{ model.description.other }}</p>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-sm-3 col-form-label"><b>{{ 'DSS_model_selection.Warning_status_interpretation' | translate }}</b></label>
            <div class="col-sm-9">
                <p *ngIf="model.output?.warning_status_interpretation">{{ model.output.warning_status_interpretation }}</p>
            </div>
        </div>
    </div>
    <div class="modal-footer pull-right">
      <button type="button" class="btn btn-info push-right" (click)="modalRef.hide()">{{ 'Common_labels.Close' | translate }}</button>
    </div>
  </ng-template>